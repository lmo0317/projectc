# DOTS 뱀서라이크 게임 - 태스크 분해

## 태스크 분석

PRD-instruction.md를 분석한 결과:
- **프로젝트 타입**: Unity 3D 게임 (게임 개발)
- **핵심 기술**: DOTS (ECS, Job System, Burst Compiler)
- **주요 영역**:
  - 시스템 아키텍처 (DOTS 설정)
  - 플레이어 시스템 (이동, 조준, 사격)
  - 적 시스템 (스폰, AI, 대량 렌더링)
  - 전투 시스템 (발사체, 충돌, 데미지)
  - UI/UX

## 태스크 분해

### 카테고리 분류
Unity 게임 개발이므로:
- **시스템/인프라**: DOTS 환경 설정, 아키텍처
- **게임플레이**: 플레이어, 적, 전투 로직
- **렌더링/그래픽**: DOTS 렌더링, VFX
- **UI/입력**: 입력 시스템, UI

---

## 분해된 이슈 출력

### **Phase 0: 프로젝트 초기화 및 DOTS 환경 구축**

#### **TASK-001: DOTS 패키지 설치 및 프로젝트 설정**
- **카테고리**: 시스템/인프라
- **우선순위**: P0 (최우선)
- **설명**: Unity DOTS 필수 패키지 설치 및 프로젝트 설정
- **상세 작업**:
  - Entities 패키지 설치
  - Jobs System 설치
  - Burst Compiler 설치
  - Unity Physics (DOTS) 설치
  - Hybrid Renderer 설치
  - DOTS 프로젝트 설정 검증
- **의존성**: 없음
- **완료 조건**:
  - 모든 DOTS 패키지 정상 설치
  - 샘플 ECS 코드 컴파일 성공
- **예상 작업량**: 2-4시간

#### **TASK-002: DOTS 아키텍처 기본 구조 설계**
- **카테고리**: 시스템/인프라
- **우선순위**: P0
- **설명**: ECS 아키텍처 기본 구조 및 네임스페이스 설계
- **상세 작업**:
  - 프로젝트 폴더 구조 설계 (Assets/Scripts/ECS/, Components/, Systems/, etc.)
  - 네임스페이스 규칙 정의
  - Assembly Definition 파일 생성
  - Entity Debugger 설정
- **의존성**: TASK-001
- **완료 조건**:
  - 폴더 구조 생성 완료
  - Assembly Definition 정상 작동
- **예상 작업량**: 1-2시간

---

### **Phase 1: 플레이어 시스템 구축**

#### **TASK-101: 플레이어 캐릭터 GameObject 생성**
- **카테고리**: 게임플레이
- **우선순위**: P0
- **설명**: 플레이어 기본 GameObject 및 컴포넌트 설정
- **상세 작업**:
  - 플레이어 GameObject 생성 (임시 3D 모델 사용)
  - Transform, Rigidbody 설정
  - 카메라 설정 (탑다운/쿼터뷰)
  - 플레이어 컴포넌트 스크립트 생성
- **의존성**: TASK-002
- **완료 조건**:
  - 플레이어가 씬에 배치되고 카메라가 플레이어 추적
- **예상 작업량**: 2-3시간

#### **TASK-102: 플레이어 이동 시스템 (왼쪽 D-PAD)**
- **카테고리**: 게임플레이
- **우선순위**: P0
- **설명**: InputSystem을 사용한 플레이어 이동 구현
- **상세 작업**:
  - InputSystem_Actions에서 Move 액션 연결
  - PlayerMovement 스크립트 작성
  - 이동 속도, 가속도 파라미터 설정
  - 게임패드 및 키보드 입력 테스트
- **의존성**: TASK-101
- **완료 조건**:
  - 왼쪽 D-PAD/WASD로 부드러운 8방향 이동
  - 이동 속도 조절 가능
- **예상 작업량**: 3-4시간

#### **TASK-103: 플레이어 조준 시스템 (오른쪽 D-PAD)**
- **카테고리**: 게임플레이
- **우선순위**: P0
- **설명**: 오른쪽 D-PAD로 총구 방향 제어
- **상세 작업**:
  - InputSystem_Actions에서 Look 액션 연결
  - PlayerAim 스크립트 작성
  - 총기 오브젝트 회전 로직
  - 조준 방향 시각적 표시 (조준선 또는 레이저)
- **의존성**: TASK-101
- **완료 조건**:
  - 오른쪽 D-PAD/마우스로 360도 조준 가능
  - 총구가 조준 방향을 향함
- **예상 작업량**: 3-4시간

#### **TASK-104: 플레이어 총기 발사 시스템 (GameObject 버전)**
- **카테고리**: 게임플레이
- **우선순위**: P1
- **설명**: 기본 총기 발사 메카닉 (임시 GameObject 발사체)
- **상세 작업**:
  - PlayerShoot 스크립트 작성
  - 총알 Prefab 생성 (임시, 나중에 DOTS로 전환)
  - 발사 간격, 연사 속도 설정
  - 자동 발사 로직
- **의존성**: TASK-103
- **완료 조건**:
  - 총알이 조준 방향으로 발사됨
  - 연사 속도 조절 가능
- **예상 작업량**: 2-3시간

---

### **Phase 2: DOTS 적 시스템 구축**

#### **TASK-201: Enemy Entity 컴포넌트 정의**
- **카테고리**: 게임플레이 (DOTS)
- **우선순위**: P0
- **설명**: 적 엔티티를 위한 ECS 컴포넌트 정의
- **상세 작업**:
  - EnemyComponent (IComponentData) 정의
  - EnemyHealthComponent 정의
  - EnemyMovementComponent 정의
  - EnemyTargetComponent 정의 (플레이어 추적용)
- **의존성**: TASK-002
- **완료 조건**:
  - 모든 적 컴포넌트 정의 및 컴파일 성공
- **예상 작업량**: 2-3시간

#### **TASK-202: Enemy 스폰 시스템 (기본)**
- **카테고리**: 게임플레이 (DOTS)
- **우선순위**: P0
- **설명**: 적을 생성하는 기본 스폰 시스템
- **상세 작업**:
  - EnemySpawnerAuthoring 스크립트 (Hybrid 접근)
  - EnemySpawnSystem (SystemBase) 작성
  - 적 Prefab → Entity 변환 설정
  - 수동 스폰 테스트 (버튼 누르면 10마리 생성)
- **의존성**: TASK-201
- **완료 조건**:
  - 버튼 클릭 시 적 엔티티 생성 확인
  - Entity Debugger에서 엔티티 확인 가능
- **예상 작업량**: 4-5시간

#### **TASK-203: Enemy 렌더링 시스템**
- **카테고리**: 렌더링/그래픽 (DOTS)
- **우선순위**: P0
- **설명**: Hybrid Renderer를 사용한 적 시각화
- **상세 작업**:
  - 적 3D 모델 임포트 (임시 큐브/구체 사용 가능)
  - RenderMesh 설정
  - Hybrid Renderer v2 설정
  - 머티리얼 설정
- **의존성**: TASK-202
- **완료 조건**:
  - 생성된 적 엔티티가 화면에 시각적으로 표시됨
  - 100개 적 동시 렌더링 테스트 통과
- **예상 작업량**: 3-4시간

#### **TASK-204: Enemy 이동 시스템 (플레이어 추적)**
- **카테고리**: 게임플레이 (DOTS)
- **우선순위**: P1
- **설명**: 적이 플레이어를 향해 이동하는 AI
- **상세 작업**:
  - EnemyMovementSystem (SystemBase) 작성
  - 플레이어 위치 참조 (Singleton 사용)
  - 적 → 플레이어 방향 계산
  - Translation 업데이트 (이동 로직)
  - 이동 속도 파라미터
- **의존성**: TASK-203, TASK-101
- **완료 조건**:
  - 적이 플레이어를 향해 이동
  - 여러 적이 동시에 추적 가능
- **예상 작업량**: 4-5시간

#### **TASK-205: 시간 기반 적 스폰 시스템**
- **카테고리**: 게임플레이 (DOTS)
- **우선순위**: P1
- **설명**: 정해진 시간 간격으로 적 자동 소환
- **상세 작업**:
  - TimedSpawnSystem 작성
  - 스폰 간격 설정 (예: 2초마다)
  - 스폰 위치 랜덤화 (플레이어 주변)
  - 스폰 수량 증가 로직 (시간에 따라)
- **의존성**: TASK-202
- **완료 조건**:
  - 게임 시작 후 자동으로 적 지속 소환
  - 시간이 지날수록 스폰 속도 증가
- **예상 작업량**: 3-4시간

---

### **Phase 3: DOTS 전투 시스템**

#### **TASK-301: Bullet Entity 컴포넌트 정의**
- **카테고리**: 게임플레이 (DOTS)
- **우선순위**: P1
- **설명**: 총알 엔티티를 위한 ECS 컴포넌트 정의
- **상세 작업**:
  - BulletComponent (IComponentData) 정의
  - BulletVelocityComponent 정의
  - BulletDamageComponent 정의
  - BulletLifetimeComponent 정의 (일정 시간 후 파괴)
- **의존성**: TASK-002
- **완료 조건**:
  - 모든 총알 컴포넌트 정의 및 컴파일 성공
- **예상 작업량**: 1-2시간

#### **TASK-302: Bullet 발사 시스템 (DOTS 전환)**
- **카테고리**: 게임플레이 (DOTS)
- **우선순위**: P1
- **설명**: TASK-104의 GameObject 발사를 DOTS로 전환
- **상세 작업**:
  - BulletSpawnSystem 작성
  - 플레이어 발사 이벤트 → Entity 생성
  - 총알 방향 및 속도 설정
  - Object Pooling 고려 (성능 최적화)
- **의존성**: TASK-301, TASK-104
- **완료 조건**:
  - 플레이어가 발사하면 총알 엔티티 생성
  - 총알이 설정된 방향으로 이동
- **예상 작업량**: 4-5시간

#### **TASK-303: Bullet 이동 및 수명 시스템**
- **카테고리**: 게임플레이 (DOTS)
- **우선순위**: P1
- **설명**: 총알 이동 및 자동 파괴 로직
- **상세 작업**:
  - BulletMovementSystem 작성
  - BulletLifetimeSystem 작성 (일정 시간 후 파괴)
  - 총알 속도 파라미터 조정
- **의존성**: TASK-302
- **완료 조건**:
  - 총알이 발사 방향으로 이동
  - 3초 후 자동 파괴
- **예상 작업량**: 2-3시간

#### **TASK-304: 충돌 감지 시스템 (Bullet vs Enemy)**
- **카테고리**: 게임플레이 (DOTS)
- **우선순위**: P1
- **설명**: 총알과 적의 충돌 감지 및 처리
- **상세 작업**:
  - Unity Physics 사용하여 충돌 감지
  - CollisionDetectionSystem 작성
  - 총알-적 충돌 시 이벤트 발생
  - Physics Shape 설정 (총알, 적)
- **의존성**: TASK-303, TASK-204
- **완료 조건**:
  - 총알이 적에 맞으면 충돌 감지
  - Entity Debugger에서 충돌 확인 가능
- **예상 작업량**: 5-6시간

#### **TASK-305: 데미지 및 적 사망 시스템**
- **카테고리**: 게임플레이 (DOTS)
- **우선순위**: P1
- **설명**: 적 체력 감소 및 사망 처리
- **상세 작업**:
  - DamageSystem 작성
  - 충돌 시 적 체력 감소
  - 체력 0 이하 시 적 엔티티 파괴
  - 총알도 충돌 시 파괴
- **의존성**: TASK-304
- **완료 조건**:
  - 총알이 적을 맞히면 적 사망
  - 사망한 적 엔티티 제거
- **예상 작업량**: 3-4시간

---

### **Phase 4: 성능 최적화 및 대량 엔티티 처리**

#### **TASK-401: Job System 적용 및 Burst 컴파일 최적화**
- **카테고리**: 시스템/인프라
- **우선순위**: P1
- **설명**: 모든 시스템에 Job System 및 Burst 적용
- **상세 작업**:
  - 주요 System을 IJobEntity로 전환
  - Burst Compile 속성 추가
  - 성능 프로파일링
  - 멀티스레딩 최적화
- **의존성**: TASK-204, TASK-303, TASK-305
- **완료 조건**:
  - 모든 핵심 시스템 Burst 컴파일 성공
  - 프로파일러에서 성능 향상 확인
- **예상 작업량**: 6-8시간

#### **TASK-402: 대량 엔티티 스트레스 테스트**
- **카테고리**: 시스템/인프라
- **우선순위**: P1
- **설명**: 1000개 이상 적 동시 처리 테스트
- **상세 작업**:
  - 스폰 수량 대폭 증가 (1000+)
  - 프레임률 모니터링
  - 병목 지점 식별
  - 최적화 필요 부분 기록
- **의존성**: TASK-401
- **완료 조건**:
  - 1000개 적 + 수백 개 총알 동시 처리 시 60 FPS 유지
- **예상 작업량**: 4-5시간

#### **TASK-403: Entity Pooling 및 메모리 최적화**
- **카테고리**: 시스템/인프라
- **우선순위**: P2
- **설명**: 엔티티 재사용 및 메모리 관리 최적화
- **상세 작업**:
  - Entity Command Buffer 최적화
  - Object Pooling 패턴 적용
  - 메모리 할당 최소화
  - GC 압력 감소
- **의존성**: TASK-402
- **완료 조건**:
  - 장시간 플레이 시 메모리 안정적
  - GC 스파이크 최소화
- **예상 작업량**: 5-6시간

---

### **Phase 5: UI 및 게임플레이 완성도**

#### **TASK-501: 기본 게임 UI 구현**
- **카테고리**: UI/UX
- **우선순위**: P2
- **설명**: HUD 및 기본 UI 요소
- **상세 작업**:
  - Canvas 및 UI 레이아웃 설정
  - 플레이어 체력 바
  - 점수/킬 카운트 표시
  - 타이머 표시
  - FPS 카운터
- **의존성**: TASK-101
- **완료 조건**:
  - 게임 플레이 중 UI 표시
  - 실시간 정보 업데이트
- **예상 작업량**: 4-5시간

#### **TASK-502: 모바일 가상 D-PAD UI**
- **카테고리**: UI/UX
- **우선순위**: P2 (모바일 지원 시)
- **설명**: 터치 기반 가상 조이스틱
- **상세 작업**:
  - 왼쪽 가상 D-PAD (이동)
  - 오른쪽 가상 D-PAD (조준)
  - Touch Input 처리
  - 시각적 피드백
- **의존성**: TASK-102, TASK-103
- **완료 조건**:
  - 모바일 터치로 이동 및 조준 가능
- **예상 작업량**: 6-7시간

#### **TASK-503: 게임 오버 및 리스타트 시스템**
- **카테고리**: 게임플레이
- **우선순위**: P2
- **설명**: 게임 종료 조건 및 재시작 로직
- **상세 작업**:
  - 플레이어 체력 시스템
  - 플레이어 사망 처리
  - 게임 오버 화면
  - 리스타트 버튼
  - 게임 상태 리셋
- **의존성**: TASK-501
- **완료 조건**:
  - 플레이어 사망 시 게임 오버
  - 리스타트로 게임 초기화
- **예상 작업량**: 3-4시간

#### **TASK-504: VFX 및 사운드 효과**
- **카테고리**: 렌더링/그래픽
- **우선순위**: P3
- **설명**: 시각 및 청각 효과 추가
- **상세 작업**:
  - 총구 발화 이펙트
  - 탄착 이펙트
  - 적 사망 이펙트
  - 총 발사 사운드
  - 적 사망 사운드
  - 배경 음악
- **의존성**: TASK-305
- **완료 조건**:
  - 모든 주요 액션에 이펙트 및 사운드 적용
- **예상 작업량**: 6-8시간

#### **TASK-505: 웨이브 및 난이도 시스템**
- **카테고리**: 게임플레이
- **우선순위**: P2
- **설명**: 시간에 따른 난이도 증가 시스템
- **상세 작업**:
  - 웨이브 시스템 설계
  - 시간에 따른 적 수 증가
  - 적 체력 증가
  - 적 속도 증가
  - 웨이브 UI 표시
- **의존성**: TASK-205, TASK-305
- **완료 조건**:
  - 시간이 지날수록 게임 난이도 증가
  - 웨이브 정보 UI에 표시
- **예상 작업량**: 4-5시간

---

## 태스크 요약

### 우선순위별 분류
- **P0 (최우선)**: 11개 태스크 - DOTS 설정, 플레이어 기본 기능, 적 기본 시스템
- **P1 (높음)**: 10개 태스크 - 전투 시스템, 성능 최적화
- **P2 (중간)**: 5개 태스크 - UI, 게임플레이 완성도
- **P3 (낮음)**: 1개 태스크 - VFX/사운드

### 총 태스크 수: **27개**

### 예상 총 작업 시간: **약 100-125시간**

### 의존성 체인 (크리티컬 패스)
```
TASK-001 → TASK-002 → TASK-101 → TASK-102/103 → TASK-104
                   ↓
              TASK-201 → TASK-202 → TASK-203 → TASK-204
                   ↓
              TASK-301 → TASK-302 → TASK-303 → TASK-304 → TASK-305
                   ↓
              TASK-401 → TASK-402
```

### 권장 실행 순서
1. **Week 1-2**: TASK-001 ~ TASK-104 (DOTS 설정 + 플레이어 시스템)
2. **Week 3-4**: TASK-201 ~ TASK-205 (적 시스템)
3. **Week 5-6**: TASK-301 ~ TASK-305 (전투 시스템)
4. **Week 7-8**: TASK-401 ~ TASK-403 (성능 최적화)
5. **Week 9-10**: TASK-501 ~ TASK-505 (UI 및 완성도)

---

## 태스크 특징

위 태스크들은 모두:
- ✅ 독립적으로 작업 가능 (의존성 명시됨)
- ✅ 200K 컨텍스트 내 완료 가능한 분량
- ✅ 명확한 완료 조건 보유
- ✅ 영역 침범 없이 분리됨

## 다음 단계

1. **TASK-001**부터 순차적으로 시작
2. 각 태스크 완료 후 완료 조건 검증
3. 의존성이 있는 태스크는 선행 태스크 완료 후 진행
4. 정기적으로 Entity Debugger 및 Profiler로 성능 모니터링
