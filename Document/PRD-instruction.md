# PRD-instruction.md

## 프로젝트 개요

### 프로젝트명
Project C - DOTS 기반 뱀파이어 서바이버 라이크 게임

### 장르
3D 뱀파이어 서바이버 라이크 (Vampire Survivors-like) / 탑다운 슈터

### 핵심 기술
- **Unity DOTS (Data-Oriented Technology Stack)** 시스템 사용
- 대량의 엔티티 처리를 위한 ECS (Entity Component System) 아키텍처
- Job System 및 Burst Compiler를 통한 성능 최적화

### 개발 목표
정해진 시간마다 계속 소환되는 엄청난 양의 몬스터를 화면에 표시하면서도 높은 성능을 유지하는 3D 액션 게임

## 게임플레이

### 핵심 메카닉

**플레이어**
- 플레이어 캐릭터 1명
- 총(Gun)을 장착하여 몬스터 처치
- 3D 환경에서 이동 및 전투

**적 시스템**
- 정해진 시간 간격으로 적 지속 소환
- 화면에 동시에 표시되는 대량의 몬스터 (수백~수천 개체)
- DOTS 시스템을 통한 최적화로 높은 성능 유지

### 조작 방식

**입력 시스템**
- **왼쪽 D-PAD (또는 왼쪽 스틱)**: 플레이어 이동
- **오른쪽 D-PAD (또는 오른쪽 스틱)**: 총구 방향(AIM) 변경

**지원 플랫폼**
- 주요: PC (키보드/마우스, 게임패드)
- 향후 확장: 모바일 (터치 기반 가상 D-PAD)

### 시각적 스타일
- **3D 그래픽** 기반
- 탑다운 또는 쿼터뷰 카메라 시점 (뱀서라이크 특성에 맞게)

## 기술 요구사항

### Unity DOTS 시스템 활용

**필수 DOTS 패키지**
- Entities (ECS 핵심)
- Jobs System (멀티스레딩 작업 처리)
- Burst Compiler (성능 최적화)
- Unity Physics (DOTS 물리)
- Hybrid Renderer (DOTS 렌더링)

**DOTS 적용 대상**
1. **적 엔티티 시스템**
   - 대량의 적 생성 및 관리
   - 적 AI 및 이동 처리
   - 적 상태 관리 (체력, 공격, 사망 등)

2. **발사체 시스템**
   - 총알/투사체 관리
   - 충돌 감지 및 처리

3. **스폰 시스템**
   - 시간 기반 적 소환 로직
   - 스폰 위치 관리

**성능 목표**
- 화면 내 동시 표시 몬스터: 최소 500~1000개체 이상
- 프레임률: 60 FPS 유지 (PC 기준)

### 기존 Unity 시스템과의 통합

**하이브리드 접근**
- 플레이어 캐릭터: 기존 GameObject/MonoBehaviour 사용 (복잡한 입력 및 애니메이션 처리)
- UI 시스템: 기존 Unity UI (UGUI) 사용
- 적/발사체: DOTS ECS로 구현 (성능 최적화)

## 개발 우선순위

### Phase 1: 핵심 시스템 구축
1. DOTS 환경 설정 및 기본 ECS 아키텍처 구축
2. 플레이어 이동 및 조작 시스템 (D-PAD 입력)
3. 기본 적 엔티티 생성 및 렌더링
4. 플레이어 조준(AIM) 시스템

### Phase 2: 전투 시스템
1. 총기 발사 시스템
2. 발사체(총알) DOTS 시스템
3. 적 충돌 감지 및 피격 처리
4. 적 체력 및 사망 시스템

### Phase 3: 스폰 및 게임플레이
1. 시간 기반 적 스폰 시스템
2. 적 AI (플레이어 추적)
3. 웨이브 시스템 (시간에 따른 난이도 증가)
4. 게임 오버 및 점수 시스템

### Phase 4: 최적화 및 완성도
1. DOTS 성능 최적화
2. 시각 효과 (VFX)
3. 사운드 시스템
4. UI/UX 개선

## 입력 시스템 설정

### 기존 InputSystem_Actions 수정 필요

현재 `Assets/InputSystem_Actions.inputactions` 파일에 정의된 액션:
- **Move** (Vector2) → 왼쪽 D-PAD/스틱 매핑 유지
- **Look** (Vector2) → 오른쪽 D-PAD/스틱으로 AIM 방향 제어에 사용
- **Attack** → 자동 발사 또는 수동 발사 전환용으로 활용 가능

**추가 고려사항**
- 뱀서라이크 특성상 자동 발사가 일반적이나, 수동 발사 옵션도 고려
- 조준은 오른쪽 D-PAD로 방향만 지정 (8방향 또는 360도)

## 아트 및 리소스 요구사항

### 3D 모델
- 플레이어 캐릭터 모델 (애니메이션 포함)
- 적 캐릭터 모델 (최소 1~3종류, DOTS로 대량 인스턴싱)
- 총기 모델
- 환경 타일/지형

### 이펙트
- 총구 발화 효과
- 탄착 효과
- 적 사망 효과

### UI
- 가상 D-PAD (모바일용)
- 체력 바
- 점수 / 타이머
- 게임 오버 화면

## 참고사항

### 뱀서라이크 장르 특징
- 시간에 따라 적의 수와 강도 증가
- 플레이어 성장 시스템 (레벨업, 무기 업그레이드)
- 웨이브 생존 기반 게임플레이
- 간단한 조작, 깊이 있는 전략

### DOTS 개발 시 주의사항
- ECS는 객체지향과 다른 패러다임 - 학습 곡선 존재
- 디버깅이 기존 방식보다 어려울 수 있음
- Entity Debugger 및 프로파일러 적극 활용
- 하이브리드 접근으로 복잡도 관리

## 성공 지표

- [ ] 화면에 1000개 이상의 적 동시 표시 가능
- [ ] 60 FPS 안정적 유지
- [ ] 직관적인 D-PAD 조작감
- [ ] 부드러운 조준 및 사격 경험
- [ ] 시간에 따른 긴장감 있는 난이도 증가
